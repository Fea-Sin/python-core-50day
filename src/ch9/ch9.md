

### 文件读写

实际开发中常常会遇到对数据进行持久化的场景，所谓数据持久化是指将数据从无法长久保存数据的
介质（通常是内存）转移到长久保存数据的存储介质（通常是硬盘）中。实现数据持久化最直接简单
的方式就是通过文件系统将数据保存到文件中。

#### 计算机文件系统

计算机文件系统是一种存储和组织计算机数据的方法，它使得对数据的访问和查找变得容易，文件系统
使用文件和树形目录的抽象逻辑概念代替了硬盘、光盘、闪存等物理设备的数据块概念，用户使用文件
系统来保存数据时，不必关系数据实际保存在硬盘的哪个数据块上，只需要记住文件的路径和文件名。

#### 打开关闭文件

有了文件系统，我们可以非常方便的通过文件来读写数据，在Python中要实现文件操作是非常方便
的，我们可以使用Python内置的`open`函数来打开文件，在使用`open`函数时，我们可以通过
函数的参数指定文件名、操作模式和字符编码等信息，这里所说的操作模式是指要打开什么样的文件
（字符文件或二进制文件）及做什么的操作（读、写或追加）

| 操作模式 | 具体含义 |
|----|----|
| `r` | 读取（默认） |
| `w` | 写入（会先截断之前的内容） |
| `x` | 写入（如果文件已经存在会产生异常） |
| `a` | 追加，将内容写入到已有文件的末尾 |
| `b` | 二进制模式 |
| `t` | 文本模式（默认） |
| `+` | 更新（既可以读又可以写） |


在使用`open`函数时，如果打开的文件是字符文件（文本文件），可以通过`encoding`参数来指定
读写文件使用的字符编码，如果没有指定该参数，则使用系统默认的编码作为读写文件的编码

#### 异常处理机制

如果`open`函数指定的文件不存在或者无法打开，那么将引发异常状况导致程序崩溃。为了让代码
更具健壮性和容错性，我们使用Python的异常机制对可能存在运行时发生的状况的代码进行适当处理
Python中和异常相关的关键字有五个`try`、`except`、`else`、`finally`、`raise`

```
file = None

try:
    file = open('致橡树.txt')
    print(file.read())
except FileNotFoundError:
    print('无法打开指定的文件！')
except LookupError:
    print('指定了未知的编码！')
except UnicodeDecodeError:
    print('读取文件时解码错误！')
finally:
    if file:
        file.close()
```
Python中，可以使用`raise`关键字来引发异常（抛出异常），而调用着可以通过`try...except...`
结构来捕获并处理异常，调用这可以通过捕获异常来使代码从异常中恢复。

